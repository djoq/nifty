{"ast":null,"code":"import _classCallCheck from\"/home/danny/apps/sandbox/nifty/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/danny/apps/sandbox/nifty/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/danny/apps/sandbox/nifty/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/danny/apps/sandbox/nifty/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import logo from'./logo.svg';import'./App.css';import{Component}from\"react\";import{saveAs}from'file-saver';import watermark from\"watermarkjs/lib\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedFile:null,imagePreviewUrl:null,selectedChain:null};_this.fileChangedHandler=function(event){_this.setState({selectedFile:event.target.files[0]});var reader=new FileReader();reader.onloadend=function(){_this.setState({imagePreviewUrl:reader.result});var bc=_this.state.selectedChain;watermark([reader.result]).image(watermark.text.lowerRight('Minted on: '+bc+', PostChain Protected ðŸ›¡','28px serif','#fff',0.5)).then(function(img){img.height=200;document.getElementById(\"text\").appendChild(img);});};reader.readAsDataURL(event.target.files[0]);};_this.chainSelectedHandler=function(event){console.log(event);_this.setState({selectedChain:event.target[event.target.selectedIndex].value});};_this.submit=function(){var img=document.querySelector('img');var imagePath=img.getAttribute('src');saveAs(imagePath,'my-nft.jpg');};return _this;}_createClass(App,[{key:\"render\",value:function render(){var $selectedChain=/*#__PURE__*/_jsx(\"div\",{className:\"previewText image-container\",children:this.state.selectedChain});return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Postchain \\xA9 \"}),/*#__PURE__*/_jsx(\"h3\",{children:\" Protect your NFT artwork against forgery. \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mint on: \"}),/*#__PURE__*/_jsxs(\"select\",{value:this.selectedChain,onChange:this.chainSelectedHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BSV\",children:\"Bitcoin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ETC\",children:\"Ethereum\"})]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",$selectedChain,\" \"]}),this.state.selectedChain?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"avatar\",className:\"btn btn-grey\",onChange:this.fileChangedHandler}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{id:\"text\",children:/*#__PURE__*/_jsx(\"pre\",{children:\" \"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.submit,className:\"btn btn-green\",children:\" Download \"})]}):null]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/danny/apps/sandbox/nifty/src/App.js"],"names":["logo","Component","saveAs","watermark","App","state","selectedFile","imagePreviewUrl","selectedChain","fileChangedHandler","event","setState","target","files","reader","FileReader","onloadend","result","bc","image","text","lowerRight","then","img","height","document","getElementById","appendChild","readAsDataURL","chainSelectedHandler","console","log","selectedIndex","value","submit","querySelector","imagePath","getAttribute","$selectedChain"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport {Component} from \"react\";\nimport { saveAs } from 'file-saver';\nimport watermark from \"watermarkjs/lib\";\n\n\nclass App extends Component {\n    state =  {\n        selectedFile: null,\n        imagePreviewUrl: null,\n        selectedChain: null,\n    };\n    fileChangedHandler = event => {\n        this.setState({\n            selectedFile: event.target.files[0]\n        })\n\n        let reader = new FileReader();\n\n        reader.onloadend = () => {\n            this.setState({\n                imagePreviewUrl: reader.result\n            });\n            let bc = this.state.selectedChain;\n            watermark([reader.result])\n                .image(watermark.text.lowerRight('Minted on: ' + bc + ', PostChain Protected ðŸ›¡', '28px serif', '#fff', 0.5))\n                .then(function (img) {\n                    img.height = 200;\n                    document.getElementById(\"text\").appendChild(img);\n                });\n        }\n        reader.readAsDataURL(event.target.files[0])\n\n    }\n\n    chainSelectedHandler = event => {\n        console.log(event)\n        this.setState({\n            selectedChain: event.target[event.target.selectedIndex].value\n        })\n    }\n\n    submit = () => {\n        let img = document.querySelector('img');\n        let imagePath = img.getAttribute('src');\n        saveAs(imagePath, 'my-nft.jpg');\n    }\n    render() {\n\n        let $selectedChain = (<div className=\"previewText image-container\">{this.state.selectedChain}</div>);\n\n    return (\n        <div className=\"App\">\n            <h1>Postchain Â© </h1>\n            <h3> Protect your NFT artwork against forgery. </h3>\n            <div className=\"App\">\n                <label>Mint on: </label>\n                <select value={this.selectedChain} onChange={this.chainSelectedHandler}>\n                    <option value=\"\"></option>\n                    <option value=\"BSV\">Bitcoin</option>\n                    <option value=\"ETC\">Ethereum</option>\n                </select>\n                <h4> {$selectedChain} </h4>\n\n                { this.state.selectedChain ?\n                    <span>\n                        <input type=\"file\" name=\"avatar\" className={\"btn btn-grey\"} onChange={this.fileChangedHandler}/>\n                    <br />\n                        <div id=\"text\">\n                         <pre> </pre>\n                     </div>\n                    <button type=\"button\" onClick={this.submit} className={\"btn btn-green\"}> Download </button>\n                    </span>\n\n                    : null\n                }\n\n            </div>\n        </div>\n    )\n    }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}